{"ast":null,"code":"import _objectSpread from\"D:\\\\React_SN\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread2\";import{authAPI}from\"../api/api\";var SET_USER_DATA='SET_USER_DATA';var initialState={id:null,email:null,login:null,isAuth:false};var authReducer=function authReducer(){var state=arguments.length>0&&arguments[0]!==undefined?arguments[0]:initialState;var action=arguments.length>1?arguments[1]:undefined;switch(action.type){case SET_USER_DATA:return _objectSpread({},state,{},action.data,{isAuth:true});default:return state;}};export var setAuthUserData=function setAuthUserData(id,email,login){return{type:SET_USER_DATA,data:{id:id,email:email,login:login}};};export var getAuthorize=function getAuthorize(){return function(dispatch){authAPI.authorize().then(function(response){if(response.data.resultCode===0){var _response$data$data=response.data.data,id=_response$data$data.id,login=_response$data$data.login,email=_response$data$data.email;dispatch(setAuthUserData(id,email,login));}});};};export default authReducer;","map":{"version":3,"sources":["D:/React_SN/src/Redux/authReducer.jsx"],"names":["authAPI","SET_USER_DATA","initialState","id","email","login","isAuth","authReducer","state","action","type","data","setAuthUserData","getAuthorize","dispatch","authorize","then","response","resultCode"],"mappings":"uIAAA,OAAQA,OAAR,KAAsB,YAAtB,CACA,GAAIC,CAAAA,aAAa,CAAG,eAApB,CAEA,GAAIC,CAAAA,YAAY,CAAG,CACfC,EAAE,CAAE,IADW,CAEfC,KAAK,CAAE,IAFQ,CAGfC,KAAK,CAAE,IAHQ,CAIfC,MAAM,CAAE,KAJO,CAAnB,CAOA,GAAMC,CAAAA,WAAW,CAAG,QAAdA,CAAAA,WAAc,EAAkC,IAAjCC,CAAAA,KAAiC,2DAAzBN,YAAyB,IAAXO,CAAAA,MAAW,2CAClD,OAAQA,MAAM,CAACC,IAAf,EACI,IAAKT,CAAAA,aAAL,CACI,wBACOO,KADP,IAEOC,MAAM,CAACE,IAFd,EAGIL,MAAM,CAAE,IAHZ,GAKJ,QACI,MAAOE,CAAAA,KAAP,CARR,CAUC,CAXL,CAaA,MAAO,IAAMI,CAAAA,eAAe,CAAG,QAAlBA,CAAAA,eAAkB,CAACT,EAAD,CAAKC,KAAL,CAAYC,KAAZ,QAAuB,CAACK,IAAI,CAAET,aAAP,CAAsBU,IAAI,CAAE,CAACR,EAAE,CAAFA,EAAD,CAAKC,KAAK,CAALA,KAAL,CAAYC,KAAK,CAALA,KAAZ,CAA5B,CAAvB,EAAxB,CAEP,MAAO,IAAMQ,CAAAA,YAAY,CAAE,QAAdA,CAAAA,YAAc,SAAK,UAACC,QAAD,CAAa,CACxCd,OAAO,CAACe,SAAR,GACQC,IADR,CACa,SAAAC,QAAQ,CAAI,CACd,GAAIA,QAAQ,CAACN,IAAT,CAAcO,UAAd,GAA6B,CAAjC,CAAqC,yBACRD,QAAQ,CAACN,IAAT,CAAcA,IADN,CAC5BR,EAD4B,qBAC5BA,EAD4B,CACxBE,KADwB,qBACxBA,KADwB,CACjBD,KADiB,qBACjBA,KADiB,CAEjCU,QAAQ,CAACF,eAAe,CAACT,EAAD,CAAKC,KAAL,CAAYC,KAAZ,CAAhB,CAAR,CACH,CACJ,CANR,EAOJ,CAR0B,EAApB,CAWP,cAAeE,CAAAA,WAAf","sourcesContent":["import {authAPI} from \"../api/api\";\r\nlet SET_USER_DATA = 'SET_USER_DATA';\r\n\r\nlet initialState = {\r\n    id: null,\r\n    email: null,\r\n    login: null,\r\n    isAuth: false,\r\n}\r\n\r\nconst authReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case SET_USER_DATA:\r\n            return {\r\n                ...state,\r\n                ...action.data,\r\n                isAuth: true\r\n                };\r\n        default:\r\n            return state;\r\n            }\r\n    }\r\n\r\nexport const setAuthUserData = (id, email, login) => ({type: SET_USER_DATA, data: {id, email, login}});\r\n\r\nexport const getAuthorize =()=> (dispatch)=> {\r\n     authAPI.authorize()\r\n            .then(response => {\r\n                if (response.data.resultCode === 0 ) {\r\n                    let {id, login, email} = response.data.data;\r\n                    dispatch(setAuthUserData(id, email, login))\r\n                }\r\n            });\r\n}\r\n\r\n\r\nexport default authReducer;"]},"metadata":{},"sourceType":"module"}