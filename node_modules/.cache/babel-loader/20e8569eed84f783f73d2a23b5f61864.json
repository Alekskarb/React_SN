{"ast":null,"code":"import _toConsumableArray from\"D:\\\\React_SN\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/toConsumableArray\";import _objectSpread from\"D:\\\\React_SN\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread2\";import{profileAPI,usersAPI}from\"../api/api\";var ADD_POST='ADD-POST';var UPDATE_POST_TEXT='UPDATE-POST-TEXT';var SET_USER_PROFILE='SET_USER_PROFILE';var SET_STATUS='SET_STATUS';var initialState={myPost:[{id:1,message:'What is your name?',likesCount:0},{id:2,message:'My Name is Pawel',likesCount:456368},{id:3,message:'My Name is Sanek',likesCount:34},{id:4,message:'Very well',likesCount:45}],newPostText:'samuray',profile:null,status:''};var profileReducer=function profileReducer(){var state=arguments.length>0&&arguments[0]!==undefined?arguments[0]:initialState;var action=arguments.length>1?arguments[1]:undefined;switch(action.type){case ADD_POST:{var newPost={id:5,message:state.newPostText,likesCount:44};return _objectSpread({},state,{myPost:[].concat(_toConsumableArray(state.myPost),[newPost]),newPostText:\"\"});}case UPDATE_POST_TEXT:{return _objectSpread({},state,{newPostText:action.newText});}case SET_USER_PROFILE:{return _objectSpread({},state,{profile:action.profile});}case SET_STATUS:{return _objectSpread({},state,{status:action.status});}default:return state;}};export var addPostActionCreator=function addPostActionCreator(){return{type:ADD_POST};};export var setStatus=function setStatus(status){return{type:SET_STATUS,status:status};};export var setUserProfile=function setUserProfile(profile){return{type:SET_USER_PROFILE,profile:profile};};export var updatePostTextActionCreator=function updatePostTextActionCreator(text){return{type:UPDATE_POST_TEXT,newText:text};};export var getUserProfile=function getUserProfile(userId){return function(dispatch){usersAPI.getProfile(userId).then(function(response){dispatch(setUserProfile(response.data));});};};export var getUserStatus=function getUserStatus(userId){return function(dispatch){profileAPI.getStatus(userId).then(function(response){dispatch(setStatus(response.data));});};};export var updateUserStatus=function updateUserStatus(status){return function(dispatch){profileAPI.updateStatus(status).then(function(response){if(response.data.resultCode===0){dispatch(setStatus(status));}});};};export default profileReducer;","map":{"version":3,"sources":["D:/React_SN/src/Redux/profileReducer.jsx"],"names":["profileAPI","usersAPI","ADD_POST","UPDATE_POST_TEXT","SET_USER_PROFILE","SET_STATUS","initialState","myPost","id","message","likesCount","newPostText","profile","status","profileReducer","state","action","type","newPost","newText","addPostActionCreator","setStatus","setUserProfile","updatePostTextActionCreator","text","getUserProfile","userId","dispatch","getProfile","then","response","data","getUserStatus","getStatus","updateUserStatus","updateStatus","resultCode"],"mappings":"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","sourcesContent":["import {profileAPI, usersAPI} from \"../api/api\";\r\n\r\nlet ADD_POST = 'ADD-POST';\r\nlet UPDATE_POST_TEXT = 'UPDATE-POST-TEXT';\r\nlet SET_USER_PROFILE = 'SET_USER_PROFILE';\r\nlet SET_STATUS = 'SET_STATUS';\r\n\r\nlet initialState = {\r\n    myPost: [{id: 1, message: 'What is your name?', likesCount: 0},\r\n        {id: 2, message: 'My Name is Pawel', likesCount: 456368},\r\n        {id: 3, message: 'My Name is Sanek', likesCount: 34},\r\n        {id: 4, message: 'Very well', likesCount: 45}],\r\n    newPostText: 'samuray',\r\n    profile: null,\r\n    status: ''\r\n}\r\n\r\nconst profileReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case ADD_POST: {\r\n            let newPost = {\r\n                id: 5,\r\n                message: state.newPostText,\r\n                likesCount: 44\r\n            };\r\n            return {...state,\r\n                myPost: [...state.myPost, newPost],\r\n                newPostText: \"\"};\r\n        }\r\n        case UPDATE_POST_TEXT: {\r\n            return  {...state,\r\n                newPostText: action.newText};\r\n        }\r\n        case SET_USER_PROFILE: {\r\n            return  {...state, profile: action.profile};\r\n        }\r\n        case SET_STATUS: {\r\n            return  {...state, status: action.status};\r\n        }\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport const addPostActionCreator = () => ({type: ADD_POST});\r\nexport const setStatus = (status) => ({type: SET_STATUS, status});\r\nexport const setUserProfile = (profile) => ({type: SET_USER_PROFILE, profile});\r\nexport const updatePostTextActionCreator = (text) => ({type: UPDATE_POST_TEXT, newText: text});\r\nexport const getUserProfile =(userId)=> (dispatch) => {\r\n        usersAPI.getProfile(userId).then(response => {\r\n                dispatch(setUserProfile(response.data));\r\n    })\r\n}\r\n\r\nexport const getUserStatus =(userId)=> (dispatch) => {\r\n        profileAPI.getStatus(userId).then(response => {\r\n                dispatch(setStatus(response.data));\r\n    })\r\n}\r\nexport const updateUserStatus =(status)=> (dispatch) => {\r\n        profileAPI.updateStatus(status).then(response => {\r\n            if (response.data.resultCode === 0) {\r\n                dispatch(setStatus(status));\r\n            }\r\n    })\r\n}\r\n\r\nexport default profileReducer;"]},"metadata":{},"sourceType":"module"}