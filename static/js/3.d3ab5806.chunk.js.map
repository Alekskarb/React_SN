{"version":3,"sources":["components/Profile/ProfileInfo/ProfileInfo.module.css","assets/images/background.jpg","components/Profile/MyPosts/MyPosts.module.css","components/Profile/MyPosts/Posts/Post.module.css","assets/images/persons.png","components/Profile/ProfileInfo/ProfileStatusWithHooks.jsx","components/Profile/ProfileInfo/ProfileInfo.jsx","components/Profile/MyPosts/Posts/Post.jsx","components/Profile/MyPosts/MyPosts.jsx","components/Profile/MyPosts/PostContainer.jsx","components/Profile/Profile.jsx","components/Profile/ProfileContainer.jsx"],"names":["module","exports","ProfileStatusWithHooks","props","useState","editMode","setEditMode","status","setStatus","useEffect","onDoubleClick","onBlur","updateUserStatus","value","onChange","e","currentTarget","autoFocus","ProfileInfo","profile","isOwner","saveAvatar","className","s","descriptionBlock","src","photos","large","userPict","alt","content","type","target","files","length","Post","item","person","message","likesCount","maxLength10","maxLengthTC","ReduxPostForm","reduxForm","form","onSubmit","handleSubmit","Field","placeholder","name","component","TextArea","validate","requiredFields","MyPosts","React","memo","postsElements","myPost","map","p","key","id","postsBlock","onAddPost","postFormMess","posts","connect","state","profilesPage","newPostText","dispatch","addPostActionCreator","Profile","PostContainer","ProfileContainer","reLoadProfileAvatar","userId","match","params","authUserId","history","push","getUserProfile","getUserStatus","this","prevProps","prevState","snapshot","Component","compose","auth","isAuth","withRouter"],"mappings":"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","file":"static/js/3.d3ab5806.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"descriptionBlock\":\"ProfileInfo_descriptionBlock__2B-5Z\",\"content\":\"ProfileInfo_content__3SdjH\"};","module.exports = __webpack_public_path__ + \"static/media/background.09b67605.jpg\";","// extracted by mini-css-extract-plugin\nmodule.exports = {\"postsBlock\":\"MyPosts_postsBlock__1l0Dt\",\"posts\":\"MyPosts_posts__2J8SG\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"item\":\"Post_item__1yagv\"};","module.exports = __webpack_public_path__ + \"static/media/persons.6441fd5d.png\";","import React, {useState, useEffect} from 'react';\r\n\r\nconst ProfileStatusWithHooks = (props) => {\r\n\r\n    let [editMode, setEditMode] = useState(false);\r\n    let [status, setStatus] = useState(props.status);\r\n\r\n    useEffect(() => {\r\n        setStatus(props.status)\r\n    }, [props.status]);\r\n\r\n    const activatedMode = () => {\r\n        setEditMode(true);\r\n    };\r\n    const deactivatedMode = () => {\r\n        setEditMode(false);\r\n        props.updateUserStatus(status)\r\n    };\r\n    const onStatusChange = (e) => {\r\n        setStatus(e.currentTarget.value);\r\n    };\r\n\r\n    return (\r\n        <div>\r\n            {!editMode &&\r\n            <div>\r\n                <span onDoubleClick={activatedMode}> {props.status || 'glad to see you, wo/men)'} </span>\r\n            </div>\r\n            }\r\n            {editMode &&\r\n            <div>\r\n                <input\r\n                    onBlur={deactivatedMode}\r\n                    value={status}\r\n                    onChange={onStatusChange}\r\n                    autoFocus={true}/>\r\n            </div>\r\n            }\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default ProfileStatusWithHooks;","import React from 'react';\r\nimport s from './ProfileInfo.module.css';\r\nimport Preloader from \"../../common/preloader\";\r\nimport ProfileStatusWithHooks from \"./ProfileStatusWithHooks\";\r\nimport userPict from '../../../assets/images/background.jpg'\r\n\r\nconst ProfileInfo = ({profile, status, updateUserStatus, isOwner, saveAvatar}) => {\r\n    if (!profile) {\r\n        return <Preloader/>\r\n    }\r\n\r\n   const onFileLoad = (e)=> {\r\n       if (e.target.files.length) {\r\n           saveAvatar(e.target.files[0])\r\n       }\r\n   };\r\n\r\n    return (\r\n\r\n        <div>\r\n            <div className={s.descriptionBlock}>\r\n                <img src={profile.photos.large || userPict} alt=\"no_image\" className={s.content}/>\r\n                {isOwner && <input type={\"file\"} onChange={onFileLoad}/> }\r\n                <ProfileStatusWithHooks status={status} updateUserStatus={updateUserStatus}\r\n                />\r\n            </div>\r\n        </div>\r\n    )\r\n};\r\n\r\nexport default ProfileInfo;","import React from 'react';\r\nimport s from './Post.module.css';\r\nimport person from '../../../../assets/images/persons.png'\r\n\r\nconst Post = (props) => {\r\n\r\n  return <div  className={s.item}>\r\n             <img src={person} alt={'avatar'}/>\r\n              {props.message}\r\n              <div>\r\n              <span>{props.likesCount} like</span>\r\n              </div>\r\n                </div>              \r\n};\r\n\r\nexport default Post;","import React from 'react';\r\nimport s from './MyPosts.module.css';\r\nimport Post from './Posts/Post';\r\nimport {Field, reduxForm} from \"redux-form\";\r\nimport {maxLengthTC, requiredFields} from \"../../utilites/validators/validators\";\r\nimport {TextArea} from \"../../common/FormsControl/FormsControl\";\r\n\r\n\r\nconst maxLength10 = maxLengthTC(10);\r\n\r\nconst PostForm = (props) => {\r\n    return <form onSubmit={props.handleSubmit}>\r\n        <div>\r\n            <Field placeholder={'add post'} name={'postFormMess'}\r\n                   component={TextArea}\r\n                   validate={[requiredFields, maxLength10]}\r\n            />\r\n            <div>\r\n                <button> ADD post</button>\r\n            </div>\r\n        </div>\r\n    </form>\r\n};\r\nconst ReduxPostForm = reduxForm({form: 'reduxPostForm'})(PostForm);\r\n\r\nconst MyPosts = React.memo(props => {\r\n    // checks extra renders\r\n\r\n    // componentDidMount() {\r\n    //     setTimeout(() => {\r\n    //         this.setState({a:12})\r\n    //     }, 1000);\r\n    // }\r\n\r\n//use 1 PureComponent instead of React.Component // class Component\r\n//use 2 shouldComponentUpdate = React.Component // class Component\r\n//use 2 React.Memo with functional Component //\r\n\r\n    // shouldComponentUpdate(nextProps, nextState) {\r\n    //     return nextProps !== this.props || nextState !== this.state;\r\n    // }\r\n\r\n    let postsElements = props.myPost.map((p) => <Post message={p.message} key={p.id}\r\n                                                      likesCount={p.likesCount}/>);\r\n    let addPost = (e) => {\r\n        props.onAddPost(e.postFormMess);\r\n    };\r\n    return <div className={s.postsBlock}>\r\n        <h3> My posts </h3>\r\n        <div>\r\n            <ReduxPostForm onSubmit={addPost}/>\r\n            {/*<textarea onChange={onPostChange} value={newPostTexts}/>*/}\r\n        </div>\r\n        <div className={s.posts}>\r\n            {postsElements}\r\n        </div>\r\n    </div>\r\n})\r\n\r\n\r\nexport default MyPosts;\r\n\r\n","import React from 'react';\r\nimport {addPostActionCreator} from \"../../../Redux/profileReducer\";\r\nimport MyPosts from \"./MyPosts\";\r\nimport {connect} from \"react-redux\";\r\n\r\n\r\nlet mapStateToProps = (state) => {\r\n    return {\r\n        myPost: state.profilesPage.myPost,\r\n        newPostText: state.profilesPage.newPostText\r\n    }\r\n};\r\n\r\nlet mapDispatchToProps = (dispatch) => {\r\n    return {\r\n        onAddPost: (postFormMess) => {\r\n            dispatch(addPostActionCreator(postFormMess))\r\n        },\r\n    }\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(MyPosts)","import React from 'react';\r\nimport ProfileInfo from \"./ProfileInfo/ProfileInfo\";\r\nimport PostContainer from \"./MyPosts/PostContainer\";\r\n\r\nconst Profile = (props) => {\r\n\r\n    return (\r\n        <div>\r\n            <ProfileInfo isOwner={props.isOwner}\r\n                         saveAvatar={props.saveAvatar}\r\n                         profile={props.profile}\r\n                         status={props.status}\r\n                         updateUserStatus={props.updateUserStatus}/>\r\n            <PostContainer\r\n            />\r\n        </div>\r\n    )\r\n};\r\n\r\nexport default Profile;\r\n","import React from 'react';\r\nimport Profile from \"./Profile\";\r\nimport {getUserProfile, getUserStatus, saveAvatar, updateUserStatus} from \"../../Redux/profileReducer\";\r\nimport {connect} from \"react-redux\";\r\nimport {withRouter} from \"react-router-dom\";\r\nimport {compose} from \"redux\";\r\n\r\nclass ProfileContainer extends React.Component {\r\n\r\n    reLoadProfileAvatar = () => {\r\n        let userId = this.props.match.params.userId;\r\n        if (!userId) {\r\n            userId = this.props.authUserId;\r\n            if (!userId) {\r\n                this.props.history.push('/login')\r\n            }\r\n        }\r\n        this.props.getUserProfile(userId);\r\n        this.props.getUserStatus(userId)\r\n    };\r\n\r\n    componentDidMount() {\r\n        this.reLoadProfileAvatar()\r\n    };\r\n\r\n    componentDidUpdate(prevProps, prevState, snapshot) {\r\n        if (this.props.match.params.userId !== prevProps.match.params.userId) {\r\n            this.reLoadProfileAvatar()\r\n        }\r\n    }\r\n\r\n    render() {\r\n\r\n        return (\r\n            <Profile {...this.props}\r\n                     profile={this.props.profile}\r\n                     isOwner = {!!this.props.match.params.userId}\r\n                     status={this.props.status}\r\n                     updateUserStatus={this.props.updateUserStatus}\r\n                     saveAvatar = {this.props.saveAvatar}\r\n            />\r\n        )\r\n    }\r\n}\r\n\r\nlet mapStateToProps = (state) => ({\r\n    profile: state.profilesPage.profile,\r\n    status: state.profilesPage.status,\r\n    authUserId: state.auth.userId,\r\n    isAuth: state.auth.isAuth,\r\n});\r\n\r\nexport default compose(\r\n    connect(mapStateToProps, {getUserProfile, getUserStatus, updateUserStatus, saveAvatar}),\r\n    withRouter\r\n)(ProfileContainer)"],"sourceRoot":""}