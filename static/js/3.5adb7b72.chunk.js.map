{"version":3,"sources":["components/Profile/ProfileInfo/ProfileInfo.module.css","components/Profile/MyPosts/MyPosts.module.css","components/Profile/MyPosts/Posts/Post.module.css","components/Profile/ProfileInfo/ProfileStatusWithHooks.jsx","components/Profile/ProfileInfo/ProfileInfo.jsx","components/Profile/MyPosts/Posts/Post.jsx","components/Profile/MyPosts/MyPosts.jsx","components/Profile/MyPosts/PostContainer.jsx","components/Profile/Profile.jsx","components/Profile/ProfileContainer.jsx"],"names":["module","exports","ProfileStatusWithHooks","props","useState","editMode","setEditMode","status","setStatus","useEffect","onDoubleClick","onBlur","updateUserStatus","value","onChange","e","currentTarget","autoFocus","ProfileInfo","profile","className","s","content","src","alt","descriptionBlock","photos","large","Post","item","message","likesCount","maxLength10","maxLengthTC","ReduxPostForm","reduxForm","form","onSubmit","handleSubmit","Field","placeholder","name","component","TextArea","validate","requiredFields","MyPosts","React","memo","console","log","postsElements","myPost","map","p","key","id","postsBlock","onAddPost","postFormMess","posts","connect","state","profilesPage","newPostText","dispatch","addPostActionCreator","Profile","PostContainer","ProfileContainer","userId","this","match","params","authUserId","history","push","getUserProfile","getUserStatus","Component","compose","auth","isAuth","withRouter"],"mappings":"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","file":"static/js/3.5adb7b72.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"descriptionBlock\":\"ProfileInfo_descriptionBlock__2B-5Z\",\"content\":\"ProfileInfo_content__3SdjH\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"postsBlock\":\"MyPosts_postsBlock__1l0Dt\",\"posts\":\"MyPosts_posts__2J8SG\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"item\":\"Post_item__1yagv\"};","import React, {useState, useEffect} from 'react';\r\n\r\nconst ProfileStatusWithHooks = (props) => {\r\n\r\n    let [editMode, setEditMode] = useState(false);\r\n    let [status, setStatus] = useState(props.status);\r\n\r\n    useEffect(() => {\r\n        setStatus(props.status)\r\n    }, [props.status]);\r\n\r\n    const activatedMode = () => {\r\n        setEditMode(true);\r\n    };\r\n    const deactivatedMode = () => {\r\n        setEditMode(false);\r\n        props.updateUserStatus(status)\r\n    };\r\n    const onStatusChange = (e) => {\r\n        setStatus(e.currentTarget.value);\r\n    };\r\n\r\n    return (\r\n        <div>\r\n            {!editMode &&\r\n            <div>\r\n                <span onDoubleClick={activatedMode}> {props.status || 'glad to see you'} </span>\r\n            </div>\r\n            }\r\n            {editMode &&\r\n            <div>\r\n                <input\r\n                    onBlur={deactivatedMode}\r\n                    value={status}\r\n                    onChange={onStatusChange}\r\n                    autoFocus={true}/>\r\n            </div>\r\n            }\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default ProfileStatusWithHooks;","import React from 'react';\r\nimport s from './ProfileInfo.module.css';\r\nimport Preloader from \"../../common/preloader\";\r\nimport ProfileStatusWithHooks from \"./ProfileStatusWithHooks\";\r\n\r\nconst ProfileInfo = ({profile, status, updateUserStatus}) => {\r\n    if (!profile) {\r\n        return <Preloader/>\r\n    }\r\n    return (\r\n        <div>\r\n            <div className={s.content}>\r\n                <img\r\n                    src='https://cdn.pixabay.com/photo/2015/01/08/19/10/jetty-593401_960_720.jpg' alt={'no_image'}/>\r\n            </div>\r\n            <div className={s.descriptionBlock}>\r\n                <img src={profile.photos.large} alt=\"no pict\"/>\r\n                <ProfileStatusWithHooks status={status} updateUserStatus={updateUserStatus}\r\n                />\r\n            </div>\r\n        </div>\r\n\r\n    )\r\n};\r\n\r\nexport default ProfileInfo;","import React from 'react';\r\nimport s from './Post.module.css';\r\n\r\nconst Post = (props) => {\r\n\r\n  return <div  className={s.item}>\r\n             <img src='https://cdn.pixabay.com/photo/2016/09/22/16/38/avatar-1687700_960_720.jpg' alt={'avatar'}/>\r\n              {props.message}\r\n              <div>\r\n              <span>{props.likesCount} like</span>\r\n              </div>\r\n                </div>              \r\n};\r\n\r\nexport default Post;","import React from 'react';\r\nimport s from './MyPosts.module.css';\r\nimport Post from './Posts/Post';\r\nimport {Field, reduxForm} from \"redux-form\";\r\nimport {maxLengthTC, requiredFields} from \"../../utilites/validators/validators\";\r\nimport {TextArea} from \"../../common/FormsControl/FormsControl\";\r\n\r\n\r\nconst maxLength10 = maxLengthTC(10);\r\n\r\nconst PostForm = (props) => {\r\n    return <form onSubmit={props.handleSubmit}>\r\n        <div>\r\n            <Field placeholder={'add post'} name={'postFormMess'}\r\n                   component={TextArea}\r\n                   validate={[requiredFields, maxLength10]}\r\n            />\r\n            <div>\r\n                <button> ADD post</button>\r\n            </div>\r\n        </div>\r\n    </form>\r\n};\r\nconst ReduxPostForm = reduxForm({form: 'reduxPostForm'})(PostForm);\r\n\r\nconst MyPosts = React.memo(props => {\r\n    // checks extra renders\r\n\r\n    // componentDidMount() {\r\n    //     setTimeout(() => {\r\n    //         this.setState({a:12})\r\n    //     }, 1000);\r\n    // }\r\n\r\n//use 1 PureComponent instead of React.Component // class Component\r\n//use 2 shouldComponentUpdate = React.Component // class Component\r\n//use 2 React.Memo with functional Component //\r\n\r\n    // shouldComponentUpdate(nextProps, nextState) {\r\n    //     return nextProps !== this.props || nextState !== this.state;\r\n    // }\r\n\r\n    console.log('RENDER');\r\n    console.log(props);\r\n    let postsElements = props.myPost.map((p) => <Post message={p.message} key={p.id}\r\n                                                      likesCount={p.likesCount}/>);\r\n    let addPost = (e) => {\r\n        props.onAddPost(e.postFormMess);\r\n    };\r\n    return <div className={s.postsBlock}>\r\n        <h3> My posts </h3>\r\n        <div>\r\n            <ReduxPostForm onSubmit={addPost}/>\r\n            {/*<textarea onChange={onPostChange} value={newPostTexts}/>*/}\r\n        </div>\r\n        <div className={s.posts}>\r\n            {postsElements}\r\n        </div>\r\n    </div>\r\n})\r\n\r\n\r\nexport default MyPosts;\r\n\r\n","import React from 'react';\r\nimport {addPostActionCreator} from \"../../../Redux/profileReducer\";\r\nimport MyPosts from \"./MyPosts\";\r\nimport {connect} from \"react-redux\";\r\n\r\n\r\nlet mapStateToProps = (state) => {\r\n    return {\r\n        myPost: state.profilesPage.myPost,\r\n        newPostText: state.profilesPage.newPostText\r\n    }\r\n};\r\n\r\nlet mapDispatchToProps = (dispatch) => {\r\n    return {\r\n        onAddPost: (postFormMess) => {\r\n            dispatch(addPostActionCreator(postFormMess))\r\n        },\r\n    }\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(MyPosts)","import React from 'react';\r\nimport ProfileInfo from \"./ProfileInfo/ProfileInfo\";\r\nimport PostContainer from \"./MyPosts/PostContainer\";\r\n\r\nconst Profile = (props) => {\r\n\r\n    return (\r\n        <div >\r\n            <ProfileInfo profile={props.profile} status={props.status}\r\n                         updateUserStatus={props.updateUserStatus}/>\r\n            <PostContainer\r\n            />\r\n        </div>\r\n    )\r\n};\r\n\r\nexport default Profile;\r\n","import React from 'react';\r\nimport Profile from \"./Profile\";\r\nimport {getUserProfile, getUserStatus, updateUserStatus} from \"../../Redux/profileReducer\";\r\nimport {connect} from \"react-redux\";\r\nimport {withRouter} from \"react-router-dom\";\r\nimport {compose} from \"redux\";\r\n\r\nclass ProfileContainer extends React.Component {\r\n\r\n    componentDidMount() {\r\n        let userId = this.props.match.params.userId;\r\n        if (!userId) {\r\n            userId = this.props.authUserId;\r\n            if (!userId) {\r\n                this.props.history.push('/login')\r\n            }\r\n        }\r\n        this.props.getUserProfile(userId);\r\n        this.props.getUserStatus(userId)\r\n    }\r\n\r\n    render() {\r\n\r\n        return (\r\n            <Profile {...this.props} profile={this.props.profile}\r\n                     status={this.props.status}\r\n                     updateUserStatus={this.props.updateUserStatus}\r\n            />\r\n        )\r\n    }\r\n}\r\n\r\nlet mapStateToProps = (state) => ({\r\n    profile: state.profilesPage.profile,\r\n    status: state.profilesPage.status,\r\n    authUserId: state.auth.userId,\r\n    isAuth: state.auth.isAuth,\r\n});\r\n\r\nexport default compose(\r\n    connect(mapStateToProps, {getUserProfile, getUserStatus, updateUserStatus}),\r\n    withRouter\r\n)(ProfileContainer)"],"sourceRoot":""}